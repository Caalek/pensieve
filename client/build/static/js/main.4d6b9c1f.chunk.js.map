{"version":3,"sources":["hooks/useToken.js","components/navigation/NavbarComponent.js","components/forms/RegisterForm.js","components/pages/MainPage.js","components/other/ConfirmDialog.js","components/navigation/Sidebar.js","components/notes/NoteModal.js","components/notes/NotePreview.js","components/notes/NoteGrid.js","components/notes/NoteCreateButton.js","components/pages/AllNotesPage.js","components/forms/LoginForm.js","components/pages/SettingsPage.js","components/pages/ArchivePage.js","components/pages/TrashPage.js","components/pages/BasicFormPage.js","components/forms/ForgotPasswordForm.js","components/forms/ResetPasswordForm.js","components/pages/ResetPasswordPage.js","components/pages/NotFoundPage.js","App.js","index.js"],"names":["useToken","useState","localStorage","getItem","token","setToken","setItem","NavbarComponent","Container","fluid","Navbar","collapseOnSelect","expand","Brand","href","className","src","height","alt","Toggle","isExpired","Collapse","Nav","Link","RegisterForm","username","setUsername","email","setEmail","password","setPassword","isRegistered","setIsRegistered","error","setError","hcaptchaToken","setHcaptchaToken","registerUser","a","jsonData","axios","post","headers","response","data","message","status","e","preventDefault","length","to","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","onChange","target","value","type","placeholder","sitekey","onVerify","ekey","Button","size","Text","MainPage","id","Row","Col","md","muted","autoPlay","loop","Title","aria-label","ConfirmDialog","props","Modal","show","backdrop","title","text","onClick","onConfirm","setShow","Sidebar","isLoggedOut","setIsLoggetOut","openConfirm","setOpenConfirm","useEffect","active","document","querySelectorAll","classList","add","undefined","NoteModal","contents","noteContents","setNoteContents","pinned","isPinned","setIsPinned","setTitle","split","Object","assign","patch","noteId","animation","createNote","editNote","Header","ButtonGroup","Check","checked","as","rows","defaultValue","Footer","NotePreview","showModal","setShowModal","patchNote","fetchData","delete","deleted","substring","archived","deletedAt","Date","NoteGrid","isLoading","setIsLoading","notes","setNotes","fetchNotes","get","queryString","Spinner","map","note","lg","_id","NoteCreateButton","xs","AllNotesPage","LoginForm","isLoggedIn","setIsLoggedIn","auth","console","log","loginUser","SettingsPage","setMessage","fetchUserData","ArchivePage","TrashPage","BasicFormPage","form","ForgotPasswordForm","buttonDisabled","setButtonDisabled","requestPasswordReset","disabled","ResetPasswordForm","isSubmitted","setIsSubmitted","changePassword","ResetPasswordPage","match","params","NotFoundPage","App","exact","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4d6b9c1f.chunk.js","sourcesContent":["import { useState } from 'react'\r\n\r\nexport default function useToken() {\r\n\r\n  function getToken() {\r\n    return localStorage.getItem('token')\r\n  }\r\n  const [token, setToken] = useState(getToken())\r\n\r\n  function saveToken(token) {\r\n    localStorage.setItem('token', token)\r\n    setToken(token)  \r\n  } \r\n\r\n return [token, saveToken]\r\n} ","import React from 'react'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport useToken from '../../hooks/useToken'\r\nimport {isExpired} from 'react-jwt'\r\n\r\nexport default function NavbarComponent() {\r\n\r\n  const [token, setToken] = useToken()\r\n\r\n  function isAuth() {\r\n    return (token && !isExpired(token))\r\n  }\r\n  return (\r\n    <Container fluid>\r\n      <Navbar collapseOnSelect expand=\"lg\">\r\n          <Navbar.Brand href=\"/home\" className=\"ml-2\">\r\n            <img src=\"/images/logo_small.png\" height=\"60\" alt=\"site logo\"></img>\r\n            <span className=\"site-title\"><strong>pensieve</strong></span>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle />\r\n            {isAuth() ?\r\n              <Navbar.Collapse>\r\n                <Nav className=\"nav-links\">\r\n                  <Nav.Link href=\"/notes/all\"><i className=\"far fa-sticky-note\"></i> Notes</Nav.Link>\r\n                  <Nav.Link href=\"/notes/archive\"><i className=\"fas fa-archive\"></i> Archive</Nav.Link>\r\n                  <Nav.Link href=\"/notes/trash\"><i className=\"fas fa-trash-alt\"></i> Trash</Nav.Link>\r\n                  <Nav.Link href=\"/settings\"><i className=\"fas fa-users-cog\"></i> Settings</Nav.Link>\r\n                  <Nav.Link><i className=\"fas fa-sign-out-alt\"></i> Log out</Nav.Link>\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            : \r\n            <Navbar.Collapse className=\"justify-content-end\">\r\n              <Nav>\r\n                <Nav.Link href=\"/login\"><i className=\"fas fa-sign-in-alt\"></i> Log in</Nav.Link>\r\n              </Nav>\r\n            </Navbar.Collapse>}\r\n      </Navbar>\r\n    </Container>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport Button from 'react-bootstrap/esm/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Card from 'react-bootstrap/Card'\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport HCaptcha from '@hcaptcha/react-hcaptcha' \r\nimport {isExpired} from 'react-jwt'  \r\n\r\nexport default function RegisterForm() {\r\n  const [username, setUsername] = useState()\r\n  const [email, setEmail] = useState()\r\n  const [password, setPassword] = useState()\r\n  const [isRegistered, setIsRegistered] = useState(false)\r\n  const [error, setError] = useState()\r\n  const [hcaptchaToken, setHcaptchaToken] = useState()\r\n  const [token, setToken] = useState()\r\n\r\n  function isAuth() {\r\n    return (token && !isExpired(token))\r\n  }\r\n\r\n  async function registerUser(username, email, password) {\r\n    const jsonData = {\r\n      token: hcaptchaToken,\r\n      username: username,\r\n      email: email,\r\n      password: password\r\n    }\r\n    const response = await axios.post('/api/register', jsonData, {headers: {'Content-Type': 'application/json'}})\r\n    if (response.data.message === 'sucess') {\r\n      setToken(response.data.token)\r\n      setIsRegistered(true)\r\n    } else if (response.status === 400) {\r\n      setError('hCaptcha failed.')\r\n    } else {\r\n      setError(response.data.message)\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (!password || !email || !username) return setError('Please fill in all the form fields.')\r\n    if (!hcaptchaToken) return setError('Please complete the captcha.')\r\n    if (password.length < 8) return setError('Password must be at least 8 characters long.')\r\n    registerUser(username, email, password)\r\n  }\r\n\r\n  if (isRegistered) {\r\n    return <Redirect to=\"/notes/all\" />\r\n  } else {\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <Card.Body>\r\n            <h1><strong>Join us now.</strong></h1>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Label>Username:</Form.Label>\r\n                <Form.Control onChange={(e) => {setUsername(e.target.value)}} type=\"text\" placeholder=\"Username:\" />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Email:</Form.Label>\r\n                <Form.Control onChange={(e) => {setEmail(e.target.value)}} type=\"email\" placeholder=\"Email:\" />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Label>Password:</Form.Label>\r\n                <Form.Control onChange={(e) => {setPassword(e.target.value)}} type=\"password\" placeholder=\"Password:\"></Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <div className=\"mt-3\">\r\n                  <HCaptcha\r\n                    sitekey=\"09c2657f-489f-4d4e-a037-19600562605d\"\r\n                    onVerify={(token, ekey) => setHcaptchaToken(token)}\r\n                  />\r\n                </div>\r\n              </Form.Group>\r\n              <Button className=\"mt-1\" size=\"lg\" type=\"submit\">Register</Button>\r\n              {!isAuth() &&\r\n              <Form.Group>\r\n                <Form.Text>\r\n                  Already have an account? <a href=\"/login\"> Log in.</a>\r\n                </Form.Text>\r\n              </Form.Group>}\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport Container from 'react-bootstrap/esm/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport NavbarComponent from '../navigation/NavbarComponent'\r\nimport RegisterForm from '../forms/RegisterForm'\r\nimport Card from 'react-bootstrap/esm/Card'\r\n\r\nexport default function MainPage() {\r\n  return (\r\n    <div>\r\n      <Container>\r\n      <NavbarComponent/>\r\n      </Container>\r\n      <Container fluid id=\"main-page-bg\" className=\"mb-5\">\r\n          <Container>\r\n            <Row>\r\n              <Col md={6} className=\"mt-5 main-page-slogan\">\r\n                <div className=\"main-title\">\r\n                  <h1 className=\"main-title\">\r\n                    <strong>All your<br></br>ideas in<br></br>one place.</strong>\r\n                  </h1>\r\n                </div>\r\n                <p><strong>Pensieve</strong> is a place were you can store all your ideas.</p>\r\n              </Col>\r\n              <Col md={6} className=\"mt-5 mb-5\">\r\n                <RegisterForm />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Container>\r\n\r\n        <Container className=\"center\">\r\n          <Row className=\"justify-content-center\">\r\n            <Col md={8}>\r\n              <div className=\"mb-4\"><h1><strong>How does it work?</strong></h1></div>\r\n              <div id=\"video-container\">\r\n                <video className=\"video-center blue-border\" muted autoPlay loop src=\"/videos/video_720p.mp4\"></video>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n\r\n        <Container>\r\n          <Row className=\"mt-5\">\r\n            <Col md={4} className=\"mt-3\">\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    <h1 className=\"center mt-2\"><strong>What is this?</strong></h1>\r\n                  </Card.Title>\r\n                  <Card.Text>\r\n                    <object data=\"/images/checklist.svg\" alt=\"checklist\" aria-label=\"checklist\" className=\"img-fluid\"></object>\r\n                    Pensieve is a note-taking website that lets you write things down your ideas, todos, shopping lists, or whatever you want on sticky notes. With Pensieve, you don't have to remember anything!\r\n                  </Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={4} className=\"mt-3\">\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    <h1 className=\"center mt-2\"><strong>On every device!</strong></h1>\r\n                  </Card.Title>\r\n                  <Card.Text>\r\n                    <object data=\"/images/device.svg\" alt=\"devices\" aria-label=\"devices\" className=\"img-fluid\"></object>\r\n                    As the notes are stored on your account, you can log in on every device in the world and still have accces to them!\r\n                  </Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n            <Col md={4} className=\"mt-3\">\r\n              <Card>\r\n                <Card.Body>\r\n                  <Card.Title>\r\n                    <h1 className=\"center mt-2\"><strong>And the name?</strong></h1>\r\n                  </Card.Title>\r\n                  <Card.Text>\r\n                    <object data=\"/images/magic.svg\" alt=\"magic\" aria-label=\"magic\" className=\"img-fluid\"></object>\r\n                    In Harry Potter, Professor Dumbledore had a magical pensieve to store all his memories. This website serves exactly the same purpose. It's a digital pensieve to store everything you need.\r\n                  </Card.Text>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n      </Container>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nexport default function ConfirmDialog(props) {\r\n  return (\r\n    <Modal show={props.show} backdrop=\"static\">\r\n      <Modal.Body>\r\n        <h1 className=\"center\"><strong>{props.title}</strong></h1>\r\n        <p className=\"center\">{props.text}</p>\r\n        <Container>\r\n          <Row className=\"justify-content-center\">\r\n            <Col className=\"center\">\r\n              <Button size=\"lg\" onClick={props.onConfirm}>Yes</Button>\r\n            </Col>\r\n            <Col className=\"center\">\r\n              <Button size=\"lg\" variant=\"danger\" onClick={() => {props.setShow(false)}}>No</Button>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </Modal.Body>\r\n    </Modal>\r\n  )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport useToken from '../../hooks/useToken'\r\nimport './Sidebar.css'\r\nimport ConfirmDialog from '../other/ConfirmDialog'\r\n\r\nexport default function Sidebar(props) {\r\n    const [token, setToken] = useToken()\r\n    const [isLoggedOut, setIsLoggetOut] = useState(false)\r\n    const [openConfirm, setOpenConfirm] = useState(false)\r\n\r\n    useEffect(() => {\r\n      if (props.active) {\r\n      document.querySelectorAll(`a.sidebar-link[href=\"${props.active}\"]`)[0].classList.add('active')\r\n      }\r\n    }, [props.active])\r\n\r\n    function logout() {\r\n      setToken(undefined)\r\n      setIsLoggetOut(true)\r\n    }\r\n\r\n    if (isLoggedOut) {\r\n      return <Redirect to=\"/home\" />\r\n    }\r\n\r\n    return (\r\n      <div id=\"sidebar\" className=\"sidebar\">\r\n        <a className=\"sidebar-link\" href=\"/notes/all\"><i className=\"far fa-sticky-note\"></i> Notes</a>\r\n        <a className=\"sidebar-link\" href=\"/notes/archive\"><i className=\"fas fa-archive\"></i> Archive</a>\r\n        <a className=\"sidebar-link\" href=\"/notes/trash\"><i className=\"fas fa-trash-alt\"></i> Trash</a>\r\n        <br></br>\r\n        <a className=\"sidebar-link\" href=\"/settings\"><i className=\"fas fa-cog\"></i> Settings</a>\r\n        <span className=\"sidebar-link\" onClick={() => {setOpenConfirm(true)}}><i className=\"fas fa-sign-out-alt\"></i> Log out</span>\r\n        <ConfirmDialog \r\n        show={openConfirm}\r\n        setShow={setOpenConfirm}\r\n        onConfirm={logout}\r\n        title=\"Already leaving us?\"\r\n        text=\"Are you sure you want to log out?\"\r\n        />\r\n      </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport axios from 'axios'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\nimport useToken from '../../hooks/useToken'\r\nimport './NoteModal.css'\r\n\r\nexport default function NoteModal(props) {\r\n  const [noteContents, setNoteContents] = useState(props.contents)\r\n  const [isPinned, setIsPinned] = useState(props.pinned)\r\n  const [title, setTitle] = useState()\r\n  const [token, setToken] = useToken()\r\n\r\n  async function createNote() {\r\n    const jsonData = {\r\n      pinned: isPinned,\r\n      contents: noteContents\r\n    }\r\n    await axios.post('/api/note', jsonData, {headers: {'Authorization': `Bearer ${token}`}})\r\n  }\r\n\r\n  async function editNote() {\r\n    if (!title) {\r\n      setTitle(noteContents.split('\\n')[0])\r\n    }\r\n    const jsonData = {}\r\n    if (noteContents !== props.contents) Object.assign(jsonData, {contents: noteContents})\r\n    else if (isPinned !== props.pinned) Object.assign(jsonData, {pinned: isPinned})\r\n    else return\r\n    await axios.patch(`/api/note/${props.noteId}`, jsonData, {headers: {'Authorization': `Bearer ${token}`}})\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    //e.preventDefault()\r\n    if (props.type === \"new\") {\r\n      createNote()\r\n    } else if (props.type === \"edit\") {\r\n      editNote()\r\n    }\r\n    props.setShow(false)\r\n    //props.fetchData()\r\n  }\r\n  return (\r\n    <Modal show={props.show} animation={true} backdrop=\"static\" className=\"zoom-in\">\r\n      <Form onSubmit={handleSubmit}>\r\n      <Modal.Header>\r\n        <Modal.Title><strong>{props.title}</strong></Modal.Title>\r\n\r\n        {isPinned ? \r\n        <ButtonGroup>\r\n          <Form.Check onChange={(e) => setIsPinned(e.target.checked)} checked></Form.Check>\r\n          <Form.Label><i id=\"pin-icon\" className=\"fas fa-thumbtack\"></i></Form.Label>\r\n        </ButtonGroup>\r\n        :\r\n        <ButtonGroup>\r\n          <Form.Check onChange={(e) => setIsPinned(e.target.checked)}></Form.Check>\r\n          <Form.Label><i id=\"pin-icon\" className=\"fas fa-thumbtack\"></i></Form.Label>\r\n        </ButtonGroup>}\r\n\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n          <Form.Group>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Control as=\"textarea\" rows={15} defaultValue={props.contents} onChange={(e) => setNoteContents(e.target.value)}/>\r\n          </Form.Group>\r\n          <Modal.Footer>\r\n            <Button variant=\"primary\" type=\"submit\">Save</Button>\r\n            <Button variant=\"secondary\" onClick={() => {props.setShow(false)}}>Close</Button>\r\n          </Modal.Footer>\r\n      </Modal.Body>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}","import React, { useState } from 'react' \r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport NoteModal from './NoteModal'\r\nimport axios from 'axios'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport useToken from '../../hooks/useToken'\r\nimport './NotePreview.css'\r\n\r\nexport default function NotePreview(props) {\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [token, setToken] = useToken()\r\n\r\n  async function patchNote(jsonData) {\r\n    await axios.patch(`/api/note/${props.noteId}`,  jsonData, {headers: {'Authorization': `Bearer ${token}`}})\r\n    props.fetchData()\r\n  }\r\n\r\n  async function deleteNoteForever() {\r\n    await axios.delete(`/api/note/${props.noteId}`, {headers: {'Authorization': `Bearer ${token}`}})\r\n    props.fetchData()\r\n  }\r\n  return (\r\n    <div>\r\n      <Card className=\"mt-3 note-preview\">    \r\n        <Card.Body>\r\n          <div onClick={() => {if (!props.deleted) setShowModal(true)}}>\r\n            <Card.Title>\r\n              <strong>{props.contents.split('\\n')[0]}</strong>\r\n            </Card.Title>\r\n            <Card.Text>\r\n              {props.contents.length > 30 ? props.contents.substring(0, 30) + '...' : props.contents.substring(0, 30)}\r\n            </Card.Text>\r\n          </div>\r\n          \r\n            <Container className=\"mt-2\">\r\n              <Row className=\"center\">\r\n                  {!props.deleted &&\r\n                  <Col>\r\n                    <Button title=\"Edit\" type=\"submit\" onClick={() => setShowModal(true)}><i className=\"fas fa-edit\"></i></Button>\r\n                    <span>&nbsp;</span>\r\n                  </Col>}\r\n\r\n                  {!props.deleted && !props.archived &&\r\n                  <Col>\r\n                      <Button title=\"Archive\" onClick={() => {patchNote({archived: true})}}><i className=\"fas fa-archive\"></i></Button>\r\n                      <span>&nbsp;</span> \r\n                  </Col>}\r\n      \r\n                {!props.deleted &&\r\n                <Col>\r\n                      <Button title=\"Delete\" onClick={() => {patchNote({archived: false, deleted: true, deletedAt: new Date()})}}><i className=\"fas fa-trash-alt\"></i></Button>\r\n                      <span>&nbsp;</span>\r\n                </Col>}\r\n  \r\n                  {props.deleted &&\r\n                  <Col> \r\n                    <Button title=\"Purge\" onClick={deleteNoteForever}><i className=\"fas fa-bomb\"></i></Button>\r\n                    <span>&nbsp;</span> \r\n                  </Col>}\r\n                \r\n                  {props.deleted &&\r\n                  <Col> \r\n                    <Button title=\"Restore\" onClick={() => {patchNote({deleted: false})}}><i className=\"fas fa-trash-restore\"></i></Button>\r\n                    <span>&nbsp;</span>  \r\n                  </Col>}\r\n              \r\n                {props.archived &&\r\n                <Col>\r\n                  <Button title=\"Remove from archive\" onClick={() => {patchNote({archived: false})}}><i className=\"fas fa-trash-restore\"></i></Button>\r\n                  <span>&nbsp;</span>  \r\n                </Col>}\r\n\r\n              </Row>\r\n            </Container>\r\n        </Card.Body>\r\n      </Card>\r\n      <NoteModal show={showModal} setShow={setShowModal} noteId={props.noteId} title=\"Edit note\" contents={props.contents} pinned={props.pinned} type=\"edit\" fetchData={props.fetchData}/>\r\n    </div>\r\n  )\r\n}","import NotePreview from '../notes/NotePreview'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Spinner from 'react-bootstrap/Spinner'\r\nimport { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport useToken from '../../hooks/useToken'\r\n\r\nexport default function NoteGrid(props) {\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [notes, setNotes] = useState()\r\n  const [token, setToken] = useToken()\r\n\r\n  useEffect(() => {\r\n    fetchNotes()\r\n  }, [])\r\n\r\n  async function fetchNotes() {\r\n    setIsLoading(true)\r\n    const response = await axios.get(`/api/notes${props.queryString}`, {headers: {'Authorization': `Bearer ${token}`}})\r\n    setNotes(response.data)\r\n    setIsLoading(false)\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Spinner variant=\"primary\"animation=\"border\" size=\"lg\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n      <Row>\r\n        {\r\n          notes.length > 0 ? notes.map(note => {\r\n              return (\r\n              <Col lg={3} key={note._id}>\r\n                <NotePreview\r\n                noteId={note._id}\r\n                title={note.title}\r\n                archived={note.archived}\r\n                deleted={note.deleted}\r\n                pinned={note.pinned}\r\n                contents={note.contents}\r\n                fetchData={fetchNotes}\r\n                />\r\n              </Col>\r\n              )\r\n          })\r\n          : \r\n          <div className=\"center\">Nothing here.</div>\r\n        }\r\n      </Row>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/esm/Row'\r\nimport NoteModal from '../notes/NoteModal'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nexport default function NoteCreateButton() {\r\n  const [showModal, setShowModal] = useState(false)\r\n  return (\r\n    <Row className=\"justify-content-end\">\r\n        <Col xs={1} className=\"mr-5\">\r\n          <Button className=\"new-button\" size=\"lg\" onClick={() => setShowModal(true)}>New</Button>\r\n          <NoteModal show={showModal} setShow={setShowModal} title=\"Create note\" type=\"new\"/>\r\n        </Col>\r\n    </Row>\r\n  )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Sidebar from '../navigation/Sidebar'\r\nimport NoteGrid from '../notes/NoteGrid'\r\nimport NavbarComponent from '../navigation/NavbarComponent'\r\nimport useToken from '../../hooks/useToken'\r\nimport {isExpired} from 'react-jwt'\r\nimport {Redirect} from 'react-router-dom'\r\nimport NoteCreateButton from '../notes/NoteCreateButton'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nexport default function AllNotesPage() {\r\n  const [token, setToken] = useToken()\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    document.title = 'Pensieve | Notes'\r\n  }, [])\r\n\r\n  function isAuth() {\r\n    return (token && !isExpired(token))\r\n  }\r\n\r\n  if (!isAuth()) {\r\n    return <Redirect to=\"/login\"/>\r\n  }\r\n  return (\r\n    <div>\r\n      <Sidebar active=\"/notes/all\"></Sidebar>\r\n      <NavbarComponent />\r\n      <Container>\r\n        <Row>\r\n          <Col><h1 className=\"mt-5\"><strong>Notes</strong></h1></Col>\r\n          <Col className=\"mt-5\">\r\n          <NoteCreateButton></NoteCreateButton>\r\n          </Col>\r\n        </Row>\r\n        <h5 className=\"mt-4\">Pinned</h5>\r\n        <NoteGrid queryString=\"?pinned=true&archived=false&deleted=false\" />\r\n        <h5 className=\"mt-4\">Other</h5>\r\n        <NoteGrid queryString=\"?archived=false&deleted=false&pinned=false\" />\r\n      </Container>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport  { Redirect } from 'react-router-dom'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport axios from 'axios'\r\nimport useToken from '../../hooks/useToken'\r\n\r\nexport default function LoginForm(props) {\r\n  const [password, setPassword] = useState()\r\n  const [email, setEmail] = useState()\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n  const [error, setError] = useState()\r\n  const [token, setToken] = useToken()\r\n\r\n  async function loginUser(email, password) {\r\n    const jsonData = {\r\n      email: email,\r\n      password: password\r\n    }\r\n    const response = await axios.post('/api/login', jsonData, {headers: {'Content-Type': 'application/json'}})\r\n    if (response.data.auth) {\r\n      setToken(response.data.token)\r\n      setIsLoggedIn(true)\r\n    } else if (!response.data.auth) {\r\n      setError(response.data.message)\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (!password || !email) return setError('Please fill in all the form fields.')\r\n    loginUser(email, password)\r\n  }\r\n  console.log(isLoggedIn)\r\n  if (isLoggedIn) {\r\n    return <Redirect to=\"/notes/all\" />\r\n  } else {\r\n      return (\r\n        <div>\r\n          <Card>\r\n            <Card.Body>\r\n              <h1 className=\"box-title\"><strong>Login</strong></h1>\r\n              {error && <Alert variant=\"danger\">{error}</Alert>}\r\n              <Form onSubmit={handleSubmit}>\r\n                <Form.Group>\r\n                  <Form.Label>Email:</Form.Label>\r\n                  <Form.Control onChange={(e) => {setEmail(e.target.value)}} type=\"email\" placeholder=\"Email:\" />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <Form.Label>Password:</Form.Label>\r\n                  <Form.Control onChange={(e) => {setPassword(e.target.value)}} type=\"password\" placeholder=\"Password:\"></Form.Control>\r\n                </Form.Group>\r\n                <Form.Group className=\"center\">\r\n                  <Button className=\"mt-3\" size=\"lg\" type=\"submit\">Login</Button>\r\n                </Form.Group>\r\n                <Form.Group className=\"mt-2 center\">\r\n                  <Form.Text>\r\n                    Don't have an account yet? <a href=\"/\"> Register.</a>\r\n                    <br/>\r\n                    <a href=\"/forgot-password\">Forgot password?</a>\r\n                  </Form.Text>\r\n                </Form.Group>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n        </div>\r\n      )\r\n  }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\nimport axios from 'axios'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/esm/Card'\r\nimport NavbarComponent from '../navigation/NavbarComponent'\r\nimport Spinner from 'react-bootstrap/Spinner'\r\nimport TitleBar from '../navigation/TitleBar'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Sidebar from '../navigation/Sidebar'\r\nimport useToken from '../../hooks/useToken'\r\nimport { Redirect } from 'react-router'\r\nimport {isExpired} from 'react-jwt'\r\n\r\nimport './SettingsPage.css'\r\nimport ConfirmDialog from '../other/ConfirmDialog'\r\n\r\nexport default function SettingsPage() {\r\n  const [email, setEmail] = useState()\r\n  const [username, setUsername] = useState()\r\n  const [message, setMessage] = useState()\r\n  const [error, setError] = useState()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [token, setToken] = useToken()\r\n  const [openConfirm, setOpenConfirm] = useState(false)\r\n\r\n  useEffect(() => {\r\n    document.title = 'Pensieve | Settings'\r\n    async function fetchUserData() {\r\n      const response = await axios.get('/api/user', {headers: {'Authorization': `Bearer ${token}`}})\r\n      setUsername(response.data.username)\r\n      setEmail(response.data.email)\r\n      setIsLoading(false)\r\n    }\r\n    fetchUserData()\r\n  }, [])\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n    setMessage(undefined)\r\n    setError(undefined)\r\n    const jsonData = {\r\n      username: username,\r\n      email: email\r\n    }\r\n    console.log(jsonData)\r\n    const response = await axios.patch('/api/user', jsonData, {headers: {'Authorization': `Bearer ${token}`}})\r\n    if (response.data.message === 'success') {\r\n      setMessage('Account succesfully updated.')\r\n    } else {\r\n      setError(response.data.message)\r\n    }\r\n  }\r\n\r\n  async function deleteAccount() {\r\n    await axios.delete('/api/user', {headers: {'Authorization': `Bearer ${token}`}})\r\n    setToken(undefined)\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Spinner variant=\"primary\"animation=\"border\" size=\"lg\" />\r\n      </div>\r\n    )\r\n  }\r\n  if (username.length > 20) {\r\n    setUsername(username.substring(0, 20))\r\n  }\r\n\r\n  function isAuth() {\r\n    return (token && !isExpired(token))\r\n  }\r\n  if (!isAuth()) {\r\n    return <Redirect to=\"/login\"/>\r\n  }\r\n\r\n  console.log(email)\r\n  console.log(username)\r\n  return (\r\n    <div>\r\n      <NavbarComponent />\r\n      <Sidebar active=\"/settings\"></Sidebar>\r\n      <Container>\r\n        <h1 className=\"mt-5 mb-4\"><strong>Settings</strong></h1>\r\n        {message && <Alert variant=\"success\">{message}</Alert>}\r\n        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n        <Row>\r\n          <Col md={6}>\r\n            <h3>Account</h3>\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Label>Username:</Form.Label>\r\n                <Form.Control onChange={(e) => {setUsername(e.target.value)}} type=\"text\" defaultValue={username}/>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                  <Form.Label>Email:</Form.Label>\r\n                  <Form.Control onChange={(e) => {setEmail(e.target.value)}} type=\"email\" defaultValue={email}/>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Button className=\"mt-3\" type=\"submit\">Save changes</Button>\r\n              </Form.Group>\r\n            </Form> \r\n          </Col>\r\n          <Col md={6}>\r\n            <h3>Appearance</h3>\r\n            <Form>\r\n              <Form.Group>\r\n                <Form.Label>Theme:</Form.Label>\r\n                <Form.Control as=\"select\">\r\n                  <option value=\"default\">Default</option>\r\n                  <option value=\"light\">Light</option>\r\n                  <option value=\"dark\">Dark</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form>\r\n          </Col>\r\n          <Col md={6} className=\"mt-3\">\r\n            <h3 className=\"red\">Dangerous</h3>\r\n            <Button className=\"mb-2\" variant=\"danger\" onClick={() => setOpenConfirm(true)}>Delete account</Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <ConfirmDialog \r\n      show={openConfirm}\r\n      setShow={setOpenConfirm}\r\n      onConfirm={deleteAccount}\r\n      title=\"Are you sure?\"\r\n      text=\"Are you abosolutely sure you want to delete your account? There is no going back.\"\r\n      />\r\n    </div>\r\n  )\r\n}","import React, {useEffect} from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport NoteGrid from '../notes/NoteGrid'\r\nimport TitleBar from '../navigation/TitleBar'\r\nimport NavbarComponent from '../navigation/NavbarComponent'\r\nimport Sidebar from '../navigation/Sidebar'\r\nimport {Redirect} from 'react-router-dom'\r\nimport useToken from '../../hooks/useToken'\r\nimport {isExpired} from 'react-jwt'\r\n\r\nexport default function ArchivePage() {\r\n  const [token, setToken] = useToken()\r\n\r\n  useEffect(() => {\r\n    document.title = 'Pensieve | Archive'\r\n  }, [])\r\n\r\n  function isAuth() {\r\n    return (token && !isExpired(token))\r\n  }\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to=\"/login\"/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <NavbarComponent />\r\n      <Sidebar active=\"/notes/archive\" />\r\n      <Container>\r\n        <h1 className=\"mt-5\"><strong>Archive</strong></h1>\r\n        <NoteGrid queryString=\"?archived=true\" />\r\n      </Container>\r\n    </div>\r\n  )\r\n}","import React, {useEffect} from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport NoteGrid from '../notes/NoteGrid'\r\nimport Sidebar from '../navigation/Sidebar'\r\nimport TitleBar from '../navigation/TitleBar'\r\nimport NavbarComponent from '../navigation/NavbarComponent'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {isExpired} from 'react-jwt'\r\nimport useToken from '../../hooks/useToken'\r\n\r\nexport default function TrashPage() {\r\n  const [token, setToken] = useToken()\r\n  useEffect(() => {\r\n    document.title = 'Pensieve | Trash'\r\n  }, [])\r\n\r\n  function isAuth() {\r\n    return (token && !isExpired(token))\r\n  }\r\n\r\n  if (!isAuth()) {\r\n    return <Redirect to=\"/login\"/>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <NavbarComponent/>\r\n      <Container>\r\n        <Sidebar active=\"/notes/trash\" />\r\n        <h1 className=\"mt-5\"><strong>Trash</strong></h1>\r\n        <NoteGrid queryString=\"?deleted=true\" />\r\n        <div className=\"center mt-3 gray\">Notes in the trash are deleted after 7 days.</div>\r\n      </Container>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport NavbarComponent from '../navigation/NavbarComponent'\r\n\r\nexport default function BasicFormPage(props) {\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <NavbarComponent/>\r\n      </Container>\r\n      <Container>\r\n          <Row className=\"justify-content-center\">\r\n            <Col md={4}>{props.form}</Col>\r\n          </Row>\r\n      </Container>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from 'react-bootstrap/Button'\r\nimport axios from 'axios'\r\n\r\nexport default function ForgotPasswordForm() {\r\n  const [email, setEmail] = useState()\r\n  const [error, setError] = useState()\r\n  const [message, setMessage] = useState()\r\n  const [buttonDisabled, setButtonDisabled] = useState(false)\r\n\r\n  async function requestPasswordReset() {\r\n    const response = await axios.post('/api/send-reset-email', {email: email}, {headers: {'Content-Type': 'application/json'}})\r\n    if (response.data.message === \"success\") {\r\n      setError(undefined)\r\n      setMessage('A password reset email has been sent to your email adress.')\r\n      setButtonDisabled(true)\r\n    } else {\r\n      setError(response.data.message)\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    requestPasswordReset()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n          <Card.Body>\r\n            <h1 className=\"box-title mb-4\"><strong>Forgot password</strong></h1>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            {message && <Alert variant=\"success\">{message}</Alert>}\r\n            <div className=\"mb-3\">Enter your email adress, so we can send you a password reset link.</div>\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Control onChange={(e) => {setEmail(e.target.value)}} type=\"email\" placeholder=\"Email:\" />\r\n              </Form.Group>\r\n              <Form.Group className=\"center\">\r\n                <Button className=\"mt-3\" size=\"lg\" type=\"submit\" disabled={buttonDisabled}>Submit</Button>\r\n              </Form.Group>\r\n            </Form>\r\n          </Card.Body>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router'\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\nexport default function ResetPasswordForm(props) {\r\n  const [password, setPassword] = useState()\r\n  const [isSubmitted, setIsSubmitted] = useState(false)\r\n  const [error, setError] = useState()\r\n\r\n  async function changePassword() {\r\n    const response = await axios.post('/api/change-password', {password: password}, {headers: {'Authorization': `Bearer ${props.token}`}})\r\n    if (response.data.message === \"success\") setIsSubmitted(true)\r\n    else (setError(response.data.message))\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    changePassword()\r\n  }\r\n\r\n  if (isSubmitted) {\r\n    return <Redirect to=\"/login\" />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n          <Card.Body>\r\n            <h1 className=\"box-title mb-4\"><strong>Reset password</strong></h1>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <div className=\"mb-3\">Enter your new password:</div>\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group>\r\n                <Form.Control onChange={(e) => {setPassword(e.target.value)}} type=\"password\" placeholder=\"New password:\" />\r\n              </Form.Group>\r\n              <Form.Group className=\"center\">\r\n                <Button className=\"mt-3\" size=\"lg\" type=\"submit\">Submit</Button>\r\n              </Form.Group>\r\n            </Form>\r\n          </Card.Body>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import BasicFormPage from \"./BasicFormPage\"\r\nimport ResetPasswordForm from \"../forms/ResetPasswordForm\"\r\n\r\nexport default function ResetPasswordPage(props) {\r\n  return (\r\n    <BasicFormPage form={<ResetPasswordForm token={props.match.params.token}/>} />\r\n  )\r\n}","import React from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default function NotFoundPage() {\r\n  return (\r\n    <div className=\"center\">\r\n      <h1 className=\"not-found\">Error 404</h1>\r\n      <h1>This page could not be found. Maybe go back to the home page?</h1>\r\n      <a href=\"/\">\r\n        <div className=\"mt-5\"><Button size=\"lg\">Go back home</Button></div>\r\n      </a>\r\n    </div>\r\n  )\r\n}","import {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\"\nimport MainPage from './components/pages/MainPage'\nimport AllNotesPage from './components/pages/AllNotesPage'\nimport LoginForm from \"./components/forms/LoginForm\"\nimport SettingsPage from \"./components/pages/SettingsPage\"\nimport ArchivePage from './components/pages/ArchivePage'\nimport TrashPage from './components/pages/TrashPage'\nimport BasicFormPage from \"./components/pages/BasicFormPage\"\nimport ForgotPasswordForm from \"./components/forms/ForgotPasswordForm\"\nimport ResetPasswordPage from \"./components/pages/ResetPasswordPage\"\nimport NotFoundPage from \"./components/pages/NotFoundPage\"\n\nimport useToken from './hooks/useToken'\nimport {isExpired} from 'react-jwt'\n\nexport default function App() {\n  const [token, setToken] = useToken()\n\n  function isAuth() {\n    return (token && !isExpired(token))\n  }\n  return (\n    <div>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            {isAuth() ? <Redirect to=\"/notes/all\" /> : <MainPage />}\n          </Route>\n          <Route exact path=\"/home\">\n            <MainPage />\n          </Route>\n          <Route path=\"/login\">\n            <BasicFormPage form={<LoginForm />} />\n          </Route>\n          <Route path=\"/notes/all\">\n            <AllNotesPage />\n          </Route>\n          <Route path=\"/notes/archive\">\n            <ArchivePage />\n          </Route>\n          <Route path=\"/notes/trash\">\n            <TrashPage />\n          </Route>\n          <Route path=\"/settings\">\n            <SettingsPage />\n          </Route>\n          <Route path=\"/forgot-password\">\n            <BasicFormPage form={<ForgotPasswordForm />} />\n          </Route>\n          <Route path=\"/reset-password-page/:token\" component={ResetPasswordPage} />\n          <Route>\n            <NotFoundPage />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  )\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}